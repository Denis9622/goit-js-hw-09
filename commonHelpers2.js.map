{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["//инпорт лода\nimport throttle from 'lodash.throttle';\n\n// визначили сталу змінну ключ для локалстораджу\nconst LOCAL_KEY = 'feedback-form-state';\n\n// визначили Дом елемент для форми\nconst formDom = document.querySelector('.feedback-form');\n\n// деструктурізація DOM\nconst { email, message } = formDom.elements;\n\n//отримання останніх данних з локалстореджа або\nlet formData = JSON.parse(localStorage.getItem(LOCAL_KEY)) || {};\n// очищення значень у полях ДОМ\nresetForm();\nfunction resetForm() {\n  if (formDom) {\n    email.value = formData.email || '';\n    message.value = formData.message || '';\n  }\n}\n\n// слухач на зміну значень  email, message\nformDom.addEventListener('input', throttle(onInputData, 1000));\n\n/**\n * onInputData\n *  колбек функція на зміну значен ь\n */\nfunction onInputData() {\n  //передача змінених значень у formData\n  formData = { email: email.value, message: message.value };\n\n  // зповнення стораджа значеннямі із фіксованим ключем\n  localStorage.setItem(LOCAL_KEY, JSON.stringify(formData));\n}\n\n// слухач на submit\nformDom.addEventListener('submit', hendlerSubmit);\n\n/**\n * onInputData\n * @param {DOMelement} event\n *  колбек функція на submit\n */\nfunction hendlerSubmit(event) {\n  // переривання стандартного поводження при submit\n  event.preventDefault();\n\n  //перевірка заповнених значень DOMelements\n  if (email.value === '' || message.value === '') {\n    return alert('Fill please all fields');\n  }\n\n  //виведення результатів formData\n  console.log(formData);\n\n  //скидання значень елементів форми\n  event.currentTarget.reset();\n\n  //очищення значень в локалсторедже по ключу\n  localStorage.removeItem(LOCAL_KEY);\n\n  //очищення formData\n  formData = {};\n}\n"],"names":["LOCAL_KEY","formDom","email","message","formData","resetForm","throttle","onInputData","hendlerSubmit","event"],"mappings":"oFAIA,MAAMA,EAAY,sBAGZC,EAAU,SAAS,cAAc,gBAAgB,EAGjD,CAAE,MAAAC,EAAO,QAAAC,GAAYF,EAAQ,SAGnC,IAAIG,EAAW,KAAK,MAAM,aAAa,QAAQJ,CAAS,CAAC,GAAK,GAE9DK,IACA,SAASA,GAAY,CACfJ,IACFC,EAAM,MAAQE,EAAS,OAAS,GAChCD,EAAQ,MAAQC,EAAS,SAAW,GAExC,CAGAH,EAAQ,iBAAiB,QAASK,EAASC,EAAa,GAAI,CAAC,EAM7D,SAASA,GAAc,CAErBH,EAAW,CAAE,MAAOF,EAAM,MAAO,QAASC,EAAQ,OAGlD,aAAa,QAAQH,EAAW,KAAK,UAAUI,CAAQ,CAAC,CAC1D,CAGAH,EAAQ,iBAAiB,SAAUO,CAAa,EAOhD,SAASA,EAAcC,EAAO,CAK5B,GAHAA,EAAM,eAAc,EAGhBP,EAAM,QAAU,IAAMC,EAAQ,QAAU,GAC1C,OAAO,MAAM,wBAAwB,EAIvC,QAAQ,IAAIC,CAAQ,EAGpBK,EAAM,cAAc,QAGpB,aAAa,WAAWT,CAAS,EAGjCI,EAAW,CAAA,CACb"}